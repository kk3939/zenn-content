---
title: "useRef ä½¿ã„æ–¹ã®åŸºæœ¬"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["React"]
published: true
---

ä»Šå›ã¯useRefã®ä½¿ã„æ–¹ã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

## Domç‰¹æœ‰ã®APIã‚’ä½¿ã„ãŸã„å ´åˆ

```tsx

const App: React.FC = () => {
  const inputDom = useRef<HTMLInputElement | null>(null);

  useEffect(() => {
    inputDom.current?.focus();
  }, []);

  return (
    <div className="App">
      <input type="text" ref={inputDom} />
    </div>
  );
};

```

åˆæœŸå€¤ã‚’nullã§å®£è¨€ã—ã¤ã¤ã€refã§domã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦`focus()`ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
ã“ã®å ´åˆã€DOMãŒè¡¨ç¤ºã•ã‚ŒãŸç›´å¾Œã«inputã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå½“ãŸã‚‹ä»•æ§˜ã§ã™ã€‚

## æ±ç”¨ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦ã®useRef

```tsx
const App: React.FC = () => {
  const num = useRef<number>(0);

  const countUp = () => {
    num.current += 1;
    console.log(num.current);
  };

  return (
    <div className="App">
      <button type="button" onClick={countUp}>
        count up
      </button>
      {num.current}
    </div>
  );
};
```

ä»Šå›ã¯ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—æ©Ÿèƒ½ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚
ã“ã“ã§æ³¨æ„ç‚¹ãªã®ã¯ã€stateã§ç®¡ç†ã—ã¦ã„ãªã„ã®ã§å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ç™ºç”Ÿã›ãšã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ã¿ã§ã®ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ç‰¹å¾´ã‚’æ´»ã‹ã™ã“ã¨ã§ã€å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ãŸããªã„ã‘ã©å€¤ã¯æ›´æ–°ã—ãŸã„ã¨ããªã©ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’åˆ¶å¾¡ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
https://ja.reactjs.org/docs/hooks-faq.html#is-there-something-like-instance-variables

## ã¾ã¨ã‚

Reactã«ã ã„ã¶æ…£ã‚Œã¦ãã‚‹ã¨ä½¿ã†ã‚·ãƒ¼ãƒ³ã¯å¤šã„ã®ã§å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

### å‚è€ƒæ–‡çŒ®
https://ja.reactjs.org/docs/hooks-reference.html#useref
https://ja.reactjs.org/docs/refs-and-the-dom.html
https://ja.reactjs.org/docs/hooks-faq.html#is-there-something-like-instance-variables
https://zenn.dev/dove/articles/e2d962e9d69e20
