---
title: "ReactåŸºç¤"
emoji: "ğŸ¤£"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["React", "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰"]
published: false
---

typescriptã¨é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«Reactã®åŸºæœ¬ã«è§¦ã‚Œã¦ã„ãã¾ã™ã€‚
ã“ã‚Œã‹ã‚‰Reactã«å…¥é–€ã™ã‚‹æ–¹ã«å¯¾ã—ã¦ã€å®Ÿå‹™ã§Reactã‚’ä½¿ã†ä¸Šã§ã®**ä¸‹åœ°**ã‚’ã¤ãã‚‹ã“ã¨ãŒæœ¬è¨˜äº‹ã®ç›®çš„ã§ã™ã€‚

ã—ãŸãŒã£ã¦ã€ç´°ã‹ã„éƒ¨åˆ†ã«ã¯è§¦ã‚Œãšã€æ¦‚è¦ã‚’æ´ã‚€ã“ã¨ã«é‡ãã‚’ç½®ãã¾ã™ã€‚

â€»ã¾ãŸã€htmlãƒ»cssãƒ»js(node.js)ãƒ»typescriptã‚’ä¸€å®šãƒ¬ãƒ™ãƒ«ç†è§£ã—ã¦ã„ã‚‹å‰æã§èª¬æ˜ã„ãŸã—ã¾ã™ã€‚ãã®ç‚¹ã”äº†æ‰¿ãã ã•ã„ã€‚

## Reactã¨ã¯
Reactã¨ã¯ã€UIæ§‹ç¯‰ã®ãŸã‚ã®JSãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
å¤§ãã2ç‚¹ã®ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚

- å®£è¨€çš„ãªview
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹

å®£è¨€çš„ãªãƒ“ãƒ¥ãƒ¼ã¨ã¯ã€çŠ¶æ…‹ã«å¿œã˜ãŸå‡¦ç†ã‚„UIã®è¡¨ç¤ºå†…å®¹ã‚’å®£è¨€ã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚
å¾“æ¥ã€å®£è¨€çš„ã®åå¯¾ã§ã‚ã‚‹å‘½ä»¤çš„ã¨ã„ã†æ¦‚å¿µã§UIãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚
å‘½ä»¤çš„ã ã¨1å›1å›å‡¦ç†ã‚’ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«ç´°ã‹ãè¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ç›´æ„Ÿçš„ã§ã¯ãªãä¸ä¾¿ã§ã—ãŸã€‚
ãã“ã§ã‚ã‚‰ã‹ã˜ã‚**1å›1å›å‘½ä»¤**ã—ã¦ã„ãŸå‡¦ç†ã‚’**ã¾ã¨ã‚ã¦å®£è¨€**ã™ã‚‹ã“ã¨ã§ã€ç›´æ„Ÿçš„ãªUIã®æ§‹ç¯‰ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

å®£è¨€çš„ãªviewã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®è¨˜äº‹ãŒå‚è€ƒã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚
https://zenn.dev/arei/articles/f59e263aa3edf2


ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã¨ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã„ã†å˜ä½ã‚’çµ„ã¿åˆã‚ã›ã¦UIã‚’é–‹ç™ºã™ã‚‹ã“ã¨ã§ã™ã€‚
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å€¤ã‚’ã€ŒçŠ¶æ…‹ï¼ˆstateï¼‰ã€ã¨ã—ã¦ä¿æŒã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ï¼ˆstateã®æ‰±ã„æ–¹ã«ã¤ã„ã¦ã¯å¾Œè¿°ï¼‰
UIã®æ©Ÿèƒ½ã‚„å½¹å‰²ãªã©ã«å¿œã˜ã¦DOMã‚’åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€è¤‡é›‘ãªUIã‚’æ§‹ç¯‰ã—ã‚„ã™ãå®‰å…¨ãªå®Ÿè£…ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã®è¨˜äº‹ãŒå‚è€ƒã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚
https://qiita.com/thim/items/c46bb888c864c0360e22

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é–¢ã—ã¦ã§ã™ãŒã€ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®2ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚
ç¾çŠ¶ã§ã¯é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ–¹ãŒä¸»æµãªã®ã§ã€æ›¸ãæ–¹ã‚’åˆã‚ã›ã¾ã—ã‚‡ã†ã€‚

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ›¸ãæ–¹
åŸºæœ¬çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ›¸ãæ–¹ã‚’ç´¹ä»‹è‡´ã—ã¾ã™ã€‚

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ›¸ãæ–¹ã§æ›¸ã‘ã¾ã™ã€‚

```tsx
const Child = () => {
  return (
    <div>
      <p>ã“ã‚“ã«ã¡ã¯</p>
    </div>
  );
}
```

å‘¼ã³å‡ºã™éš›ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚
Parentã¨ã„ã†è¦ªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰å­ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦Childå‘¼ã³å‡ºã—ã¾ã™ã€‚

```tsx
const Parent = () => {
  return <Child />
}
```


ãƒ‡ãƒ¼ã‚¿ã‚’è¦ªã‹ã‚‰å­ã«æ¸¡ã—ãŸã„æ™‚ãŒã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚
ãã®éš›ã¯å±æ€§ã®å€¤ã¨ã—ã¦ã€ãƒã‚±ãƒ„ãƒªãƒ¬ãƒ¼ã§å€¤ã‚’é€ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```tsx
// React.VCâ†’Reactã®é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
const Parent: React.VC = () => {
  const greeting = "ã“ã‚“ã«ã¡ã¯";
  return <Child greeting={greeting} />
}

type Props = {
  // optionalã«ã™ã‚‹ã¨è¦ªã‹ã‚‰å€¤ãŒæ¸¡ã‚‰ãªã„ã“ã¨ã‚’è¨±å®¹ã§ãã‚‹
  greeting: string;
};

const Child: React.VC<Props> = ({ greeting }) => {
  return (
    <div>
      <p>{ greeting }</p>
    </div>
  );
}
```

ã•ã‚‰ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿è¾¼ã¿ãŸã„ã¨ã„ã£ãŸã€Wrapperã¨ã—ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```tsx
// React.VCâ†’Reactã®é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
const Parent: React.VC = () => {
  return (
    <Child>
      <p>ã“ã‚“ã«ã¡ã¯</p>
    </Child>
  );
}


const Child: React.VC = ({ children }) => {
  // å‘¼ã³å‡ºã•ã‚ŒãŸéš›ã«æŒŸã‚“ã ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€DOMãŒå…¥ã£ã¦ãã‚‹
  return (
    <div>
      {children}
    </div>
  );
}
```

## åŸºæœ¬ã®hooks
ä»Šã¾ã§è§¦ã‚Œã¦ããŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ›¸ãæ–¹ã‚’ãƒ™ãƒ¼ã‚¹ã«Reactå›ºæœ‰ã®é–¢æ•°ã§ã‚ã‚‹hooksã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ãã¾ã™ã€‚

### useState
å…ˆã»ã©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å€¤ã‚’çŠ¶æ…‹ã¨ã—ã¦ä¿æŒã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨è¨€åŠã—ã¾ã—ãŸã€‚
useStateã¯çŠ¶æ…‹ã§ã‚ã‚‹stateã®å€¤ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹hooksã§ã™ã€‚

`isLoading`ã¯stateã®å€¤ã§ã€`setIsLoading`ã§stateã®å€¤ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹é–¢æ•°ã§ã™ã€‚

```tsx
const [isLoading, setIsLoading] = useState<boolean>(false);
```

stateã®å€¤ã‚’ä½¿ã†ã“ã¨ã§ã€è¤‡é›‘ãªUIã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

ã©ã†ã„ã†ã“ã¨ã‹ã€‚

ãã®ãŸã‚ã«ã¯ã€Reactã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ä»¥ä¸‹ã§ã™ã€‚

- stateãŒæ›´æ–°ã•ã‚ŒãŸã¨ã
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚ãŸã£ã¦ããŸpropsã®å€¤ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã
- è¦ªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ãŸã¨ã


ã¤ã¾ã‚Šã€stateãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰ã€è©²å½“ã®stateã‚’ä¿æŒã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã—ã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã¯ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ããŸã‹ã«å¿œã˜ã¦isLoadingã®å€¤ã¨UIã‚’å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

```tsx
const Component: React.FC = () => {
  const [isLoading, setIsLoading] = useState<boolean>(false);
  const [data, setData] = useState<Data>(initialvalue);

  // useEffectã«ã¤ã„ã¦ã¯å¾Œã§è§¦ã‚Œã¾ã™ã€‚
  // ã¨ã‚Šã‚ãˆãšã€ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦stateã«ã‚»ãƒƒãƒˆã—ã¦ã€loadingã®stateã‚’å¤‰æ›´ã—ã¦ã„ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ãã ã•ã„ã€‚
  useEffect(() => {
    const fetchData = async () => {
      setIsLoading(true);
      const fetchedData = await fetchData();
      setData(fetchedData);
      setIsLoading(false);
    };
    fetchData();
  }, []);


  return (
    <>
      { // ä¸‰é …æ¼”ç®—å­ã§è¡¨ç¾ã™ã‚‹
        isLoading ? (
        // ã‚¹ãƒ”ãƒŠãƒ¼ã‚’è¡¨ç¤º
        <Spinner />
      ) : (
        // é€šå¸¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
        <Contents data={data} />
      )}
    </>
  );
};
```

ã“ã®ã‚ˆã†ã«stateã‚’ç®¡ç†ã™ã‚‹ã“ã¨ã§ã€ãã‚Œã«å¿œã˜ãŸå‹•çš„ãªUIã‚’æ¯”è¼ƒçš„ã«ç›´æ„Ÿçš„ã«æ§‹ç¯‰ã§ãã¾ã™ã€‚

### useEffect
useEffectã¯é–¢æ•°ã®å®Ÿè¡Œã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®å¾Œã«ã¾ã§é…ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

å…ˆã»ã©ã®ä¾‹ã§ã¯éåŒæœŸã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚ä»–ã«ã‚‚stateã‚„å¤‰æ•°ã«å¿œã˜ãŸDOMã®å¤‰æ›´ãªã©ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

ç¬¬ä¸€å¼•æ•°ã§ã¯å®Ÿè¡Œã™ã‚‹é–¢æ•°ã€ç¬¬äºŒå¼•æ•°ã§ã¯é–¢æ•°ã®å®Ÿè¡Œã«ä¾å­˜ã™ã‚‹å€¤ã‚’é…åˆ—ã®å½¢ã§ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
ç©ºé…åˆ—ã®å ´åˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã¿é–¢æ•°ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```tsx
useEffect(() => {}, []);
```

è©³ã—ãã¯useEffectã«é–¢ã™ã‚‹è¨˜äº‹ã‚’ã”è¦§ãã ã•ã„ã€‚
https://qiita.com/seira/items/e62890f11e91f6b9653f

### useContext
reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ã€è¦ªã‹ã‚‰propsã§å­ã«å€¤ã‚’é€ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€å¤šãã®å ´åˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ä½•é‡ã‚‚ã®å…¥ã‚Œå­ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚
è¤‡é›‘ã«å…¥ã‚Œå­ã«ãªã‚‹ã¨ãƒã‚±ãƒ„ãƒªãƒ¬ãƒ¼ãŒä½•å›ã‚‚è¡Œã‚ã‚Œã‚‹ã®ã§ã€å€¤ã‚’è¿½ã†åŠ´åŠ›ãŒå¢—ãˆã¾ã™ã€‚
useContextã‚’ä½¿ã†ã¨ã€è¦ªã‹ã‚‰propsã§å—ã‘å–ã‚‰ãªãã¦ã‚‚å€¤ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¾‹ã¨ã—ã¦ã€`GrandParent -> Parent -> Child`ã¨ã„ã£ãŸå…¥ã‚Œå­ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã€ãƒˆãƒƒãƒ—ã‹ã‚‰æœ€ä¸‹å±¤ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ã‚ŠãŸã„å ´åˆã‚’æƒ³å®šã—ã¾ã™ã€‚

```tsx
type Props = {
  username: string;
}

const GrandParent: React.FC = () => {
  const username = "hoge";
  return <Parent username={username} />;
};

// ãŸã ä¸­ç¶™ã—ã¦ã„ã‚‹ã ã‘
const Parent: React.FC<Props> = ({ username }) => {
  return <Child username={username} />;
};

const Child: React.FC<Props> = ({ username }) => {
  return <p>{username}</p>;
};
```

useContextã‚’ä½¿ã†ã¨ã“ã†ãªã‚Šã¾ã™ã€‚ï¼ˆåˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã—ãŸã„æ™‚ã¯è„³å†…ã§ç½®ãæ›ãˆã¦è€ƒãˆã¦ãã ã•ã„ï¼‰

```tsx

export const UsernameContext = createContext<string>("");

const GrandParent: React.FC = () => {
  const username = "hoge";
  return (
    // ãƒˆãƒƒãƒ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§createContextã§ä½œæˆã—ãŸãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§ãƒ©ãƒƒãƒ—ã™ã‚‹
    <UsernameContext.Provider value={username}>
      <Parent />
    </UsernameContext.Provider>
  );
};

const Parent: React.FC = () => {
  return <Child />;
};

const Child: React.FC = () => {
  // ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§ãƒ©ãƒƒãƒ—ã—ãŸæ™‚ã«è¨­å®šã—ãŸå€¤ã‚’ã€useContextã§å–å¾—ã™ã‚‹
  const username = useContext(UsernameContext);
  return <p>{username}</p>;
};
```

ã“ã®ã‚ˆã†ã«useContextã‚’æ­£ã—ãä½¿ã†ã“ã¨ã§ã€ä¸‹å±¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å€¤ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚

### useReducer
useReducerã¯çŠ¶æ…‹ç®¡ç†ã®ãŸã‚ã®hooksã§useStateã¨ä¼¼ã¦ã„ã¾ã™ã€‚

`const [state, dispatch] = useReducer(reducer,initialState)`ã¨ã„ã†æ§‹æ–‡ã§ã€stateã¨ãã‚Œã‚’æ›´æ–°ã™ã‚‹dispatchã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚

```tsx

type Action = {
  type: "UPDATE_NAME";
  payload: string;
};

const Component: React.FC = () => {
  const user = {
    name: "",
    age: 0,
  };

  const reducer = (userdata: { name: string; age: number }, action: Action) => {
    switch (action.type) {
      case "UPDATE_NAME":
        return {
          ...userdata,
          name: action.payload,
        };
      default:
        return userdata;
    }
  };

  const [userState, dispatch] = useReducer(reducer, user);
  return (
    <input
      onChange={(e) =>
        dispatch({
          type: "UPDATE_NAME",
          payload: e.currentTarget.value,
        })
      }
    />
  );
};
export default Component;
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è‰¯ãã™ã‚‹ã«ã¯

### React.memo
### useCallback
### useMemo


## æ¬¡ã«å‹‰å¼·ã™ã‚‹ã¹ãã“ã¨


## ã¾ã¨ã‚


## å‚è€ƒæ–‡çŒ®


